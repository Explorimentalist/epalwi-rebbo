const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D0yo-Dyq.js","./DsNt8I1Z.js","./gbLrkHdn.js","./3I7QIE0l.js","./entry.B10hg7yE.css"])))=>i.map(i=>d[i]);
import{e as N,r as u,g as U,c as n,o as a,a as t,b as F,w as M,d as g,h as r,i as s,t as o,n as E,j as L,v as j,k as V,l as O,F as q,m as z,p as S}from"./3I7QIE0l.js";import{_ as Q}from"./CY414whd.js";import{_ as Y}from"./DlAUqK2U.js";const $={class:"test-page"},G={class:"container mx-auto p-6"},H={class:"flex items-center justify-between mb-6"},J={class:"mb-8 p-4 border rounded-lg"},K={class:"space-y-2"},W=["disabled"],X={key:0,class:"mt-2"},Z={class:"font-semibold"},ee={key:0},se={key:1,class:"text-red-600"},te={class:"mb-8 p-4 border rounded-lg"},oe={class:"space-y-2"},ne=["disabled"],ae={key:0,class:"mt-2"},re={class:"font-semibold"},ie={key:0},le={key:1},de={key:2,class:"text-red-600"},ce={class:"mb-8 p-4 border rounded-lg"},ue={class:"space-y-4"},pe={class:"flex gap-2"},me=["disabled"],_e={key:0,class:"mt-4"},ge={class:"font-semibold"},ve={key:0,class:"mt-2 space-y-2 max-h-64 overflow-y-auto"},ye={class:"text-blue-600"},be={key:0,class:"text-xs text-gray-500"},he={key:1,class:"text-red-600"},xe={class:"mb-8 p-4 border rounded-lg"},fe={class:"space-y-2"},we=["disabled"],Te={key:0,class:"mt-2"},ke={class:"font-semibold"},Ce={key:0},De={key:1},Ee={key:2},Se={key:3,class:"text-red-600"},Re={class:"mb-8 p-4 border rounded-lg"},Be={key:0,class:"space-y-2 text-sm"},Le=N({__name:"index",setup(Ve){const f=u(!1),_=u(null),w=u(!1),c=u(null),h=u("casa"),T=u("spanish"),k=u(!1),y=u([]),C=u(""),D=u(!1),l=u(null),d=u(null);async function R(){f.value=!0;const p=performance.now();try{const e=await $fetch("/api/dictionary"),m=performance.now();_.value=e,d.value||(d.value={}),d.value.apiTime=Math.round(m-p)}catch(e){_.value={success:!1,error:e instanceof Error?e.message:"Unknown error"}}finally{f.value=!1}}async function B(){w.value=!0;const p=performance.now();try{const{indexedDBService:e}=await S(async()=>{const{indexedDBService:b}=await import("./DsNt8I1Z.js");return{indexedDBService:b}},[],import.meta.url);await e.init();const m=await e.checkCacheStatus(),v=await e.getEntriesCount(),i=performance.now();c.value={success:!0,entriesCount:v,cacheValid:m.isValid,lastUpdate:m.lastUpdate},d.value||(d.value={}),d.value.indexedDBTime=Math.round(i-p)}catch(e){c.value={success:!1,error:e instanceof Error?e.message:"Unknown error"}}finally{w.value=!1}}async function I(){k.value=!0,C.value="";const p=performance.now();try{const{searchService:e}=await S(async()=>{const{searchService:i}=await import("./gbLrkHdn.js");return{searchService:i}},[],import.meta.url),m=await e.search({query:h.value,language:T.value,limit:10}),v=performance.now();y.value=m,d.value||(d.value={}),d.value.searchTime=Math.round(v-p)}catch(e){C.value=e instanceof Error?e.message:"Unknown error",y.value=[]}finally{k.value=!1}}async function P(){D.value=!0;try{const{useDictionary:p}=await S(async()=>{const{useDictionary:A}=await import("./D0yo-Dyq.js");return{useDictionary:A}},__vite__mapDeps([0,1,2,3,4]),import.meta.url),{isReady:e,search:m,currentLanguage:v,toggleLanguage:i,init:b}=p();await b();const x=await m("casa");l.value={success:!0,isReady:e.value,entriesCount:x.length,currentLanguage:v.value,searchResults:x.slice(0,3)}}catch(p){l.value={success:!1,error:p instanceof Error?p.message:"Unknown error"}}finally{D.value=!1}}return U(()=>{R(),B()}),(p,e)=>{var v;const m=Q;return a(),n("div",$,[t("div",G,[t("div",H,[e[3]||(e[3]=t("h1",{class:"text-3xl font-bold"},"Phase 3 Testing Dashboard",-1)),F(m,{to:"/test/components",class:"px-4 py-2 bg-[#D45B41] text-white rounded-lg hover:bg-[#B8412F] transition-colors"},{default:M(()=>e[2]||(e[2]=[g(" üìù Component Testing ‚Üí ")])),_:1,__:[2]})]),t("section",J,[e[5]||(e[5]=t("h2",{class:"text-xl font-semibold mb-4"},"üì° API Endpoint Test",-1)),t("div",K,[t("button",{onClick:R,disabled:s(f),class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50"},o(s(f)?"Testing...":"Test Dictionary API"),9,W),s(_)?(a(),n("div",X,[t("p",Z,[e[4]||(e[4]=g("API Status: ")),t("span",{class:E(s(_).success?"text-green-600":"text-red-600")},o(s(_).success?"‚úÖ Success":"‚ùå Failed"),3)]),s(_).data?(a(),n("p",ee,"Entries: "+o(((v=s(_).data.metadata)==null?void 0:v.total_entries)||"N/A"),1)):r("",!0),s(_).error?(a(),n("p",se,"Error: "+o(s(_).error),1)):r("",!0)])):r("",!0)])]),t("section",te,[e[8]||(e[8]=t("h2",{class:"text-xl font-semibold mb-4"},"üíæ IndexedDB Service Test",-1)),t("div",oe,[t("button",{onClick:B,disabled:s(w),class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50"},o(s(w)?"Testing...":"Test IndexedDB"),9,ne),s(c)?(a(),n("div",ae,[t("p",re,[e[6]||(e[6]=g("IndexedDB Status: ")),t("span",{class:E(s(c).success?"text-green-600":"text-red-600")},o(s(c).success?"‚úÖ Success":"‚ùå Failed"),3)]),s(c).entriesCount?(a(),n("p",ie,"Cached Entries: "+o(s(c).entriesCount),1)):r("",!0),s(c).cacheValid!==void 0?(a(),n("p",le,[e[7]||(e[7]=g(" Cache Valid: ")),t("span",{class:E(s(c).cacheValid?"text-green-600":"text-orange-600")},o(s(c).cacheValid?"‚úÖ Yes":"üîÑ No (needs refresh)"),3)])):r("",!0),s(c).error?(a(),n("p",de,"Error: "+o(s(c).error),1)):r("",!0)])):r("",!0)])]),t("section",ce,[e[11]||(e[11]=t("h2",{class:"text-xl font-semibold mb-4"},"üîç Search Service Test",-1)),t("div",ue,[t("div",pe,[L(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>V(h)?h.value=i:null),placeholder:"Enter search term (e.g., casa, hola)",class:"flex-1 px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500"},null,512),[[j,s(h)]]),L(t("select",{"onUpdate:modelValue":e[1]||(e[1]=i=>V(T)?T.value=i:null),class:"px-3 py-2 border rounded"},e[9]||(e[9]=[t("option",{value:"spanish"},"Espa√±ol",-1),t("option",{value:"ndowe"},"Ndowe",-1)]),512),[[O,s(T)]]),t("button",{onClick:I,disabled:s(k)||!s(h),class:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 disabled:opacity-50"},o(s(k)?"Searching...":"Search"),9,me)]),s(y)?(a(),n("div",_e,[t("p",ge,"Search Results: "+o(s(y).length)+" found",1),s(y).length>0?(a(),n("div",ve,[(a(!0),n(q,null,z(s(y).slice(0,5),i=>{var b,x;return a(),n("div",{key:i.entry.id,class:"p-2 bg-gray-50 rounded text-sm"},[t("strong",null,o(i.entry.espa√±ol),1),e[10]||(e[10]=g(" ‚Üí ")),t("span",ye,o(((b=i.entry.ndowe)==null?void 0:b.join(", "))||"No translation"),1),i.score?(a(),n("div",be,"Score: "+o((x=i.score)==null?void 0:x.toFixed(3)),1)):r("",!0)])}),128))])):r("",!0)])):r("",!0),s(C)?(a(),n("div",he," Error: "+o(s(C)),1)):r("",!0)])]),t("section",xe,[e[13]||(e[13]=t("h2",{class:"text-xl font-semibold mb-4"},"üéØ Dictionary Composable Test",-1)),t("div",fe,[t("button",{onClick:P,disabled:s(D),class:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 disabled:opacity-50"},o(s(D)?"Testing...":"Test useDictionary Composable"),9,we),s(l)?(a(),n("div",Te,[t("p",ke,[e[12]||(e[12]=g("Composable Status: ")),t("span",{class:E(s(l).success?"text-green-600":"text-red-600")},o(s(l).success?"‚úÖ Success":"‚ùå Failed"),3)]),s(l).isReady?(a(),n("p",Ce,"Ready: "+o(s(l).isReady),1)):r("",!0),s(l).entriesCount?(a(),n("p",De,"Total Entries: "+o(s(l).entriesCount),1)):r("",!0),s(l).currentLanguage?(a(),n("p",Ee,"Current Language: "+o(s(l).currentLanguage),1)):r("",!0),s(l).error?(a(),n("p",Se,"Error: "+o(s(l).error),1)):r("",!0)])):r("",!0)])]),t("section",Re,[e[17]||(e[17]=t("h2",{class:"text-xl font-semibold mb-4"},"‚ö° Performance Test",-1)),s(d)?(a(),n("div",Be,[t("p",null,[e[14]||(e[14]=t("strong",null,"API Response Time:",-1)),g(" "+o(s(d).apiTime)+"ms",1)]),t("p",null,[e[15]||(e[15]=t("strong",null,"IndexedDB Init Time:",-1)),g(" "+o(s(d).indexedDBTime)+"ms",1)]),t("p",null,[e[16]||(e[16]=t("strong",null,"Search Time:",-1)),g(" "+o(s(d).searchTime)+"ms",1)])])):r("",!0)])])])}}}),Ne=Y(Le,[["__scopeId","data-v-6cfbe2b1"]]);export{Ne as default};
