{"version":3,"file":"index-BVDY-Kbe.js","sources":["../../../../pages/test/index.vue"],"sourcesContent":["<template>\n  <div class=\"test-page\">\n    <div class=\"container mx-auto p-6\">\n      <div class=\"flex items-center justify-between mb-6\">\n        <h1 class=\"text-3xl font-bold\">Phase 3 Testing Dashboard</h1>\n        <NuxtLink \n          to=\"/test/components\"\n          class=\"px-4 py-2 bg-[#D45B41] text-white rounded-lg hover:bg-[#B8412F] transition-colors\"\n        >\n          üìù Component Testing ‚Üí\n        </NuxtLink>\n      </div>\n    \n      <!-- API Test Section -->\n      <section class=\"mb-8 p-4 border rounded-lg\">\n        <h2 class=\"text-xl font-semibold mb-4\">üì° API Endpoint Test</h2>\n        <div class=\"space-y-2\">\n          <button \n            @click=\"testApi\" \n            :disabled=\"apiLoading\"\n            class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50\"\n          >\n            {{ apiLoading ? 'Testing...' : 'Test Dictionary API' }}\n          </button>\n          <div v-if=\"apiResult\" class=\"mt-2\">\n            <p class=\"font-semibold\">API Status: \n              <span :class=\"apiResult.success ? 'text-green-600' : 'text-red-600'\">\n                {{ apiResult.success ? '‚úÖ Success' : '‚ùå Failed' }}\n              </span>\n            </p>\n            <p v-if=\"apiResult.data\">Entries: {{ apiResult.data.metadata?.total_entries || 'N/A' }}</p>\n            <p v-if=\"apiResult.error\" class=\"text-red-600\">Error: {{ apiResult.error }}</p>\n          </div>\n        </div>\n      </section>\n\n      <!-- IndexedDB Test Section -->\n      <section class=\"mb-8 p-4 border rounded-lg\">\n        <h2 class=\"text-xl font-semibold mb-4\">üíæ IndexedDB Service Test</h2>\n        <div class=\"space-y-2\">\n          <button \n            @click=\"testIndexedDB\" \n            :disabled=\"indexedDBLoading\"\n            class=\"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50\"\n          >\n            {{ indexedDBLoading ? 'Testing...' : 'Test IndexedDB' }}\n          </button>\n          <div v-if=\"indexedDBResult\" class=\"mt-2\">\n            <p class=\"font-semibold\">IndexedDB Status: \n              <span :class=\"indexedDBResult.success ? 'text-green-600' : 'text-red-600'\">\n                {{ indexedDBResult.success ? '‚úÖ Success' : '‚ùå Failed' }}\n              </span>\n            </p>\n            <p v-if=\"indexedDBResult.entriesCount\">Cached Entries: {{ indexedDBResult.entriesCount }}</p>\n            <p v-if=\"indexedDBResult.cacheValid !== undefined\">\n              Cache Valid: \n              <span :class=\"indexedDBResult.cacheValid ? 'text-green-600' : 'text-orange-600'\">\n                {{ indexedDBResult.cacheValid ? '‚úÖ Yes' : 'üîÑ No (needs refresh)' }}\n              </span>\n            </p>\n            <p v-if=\"indexedDBResult.error\" class=\"text-red-600\">Error: {{ indexedDBResult.error }}</p>\n          </div>\n        </div>\n      </section>\n\n      <!-- Search Service Test Section -->\n      <section class=\"mb-8 p-4 border rounded-lg\">\n        <h2 class=\"text-xl font-semibold mb-4\">üîç Search Service Test</h2>\n        <div class=\"space-y-4\">\n          <div class=\"flex gap-2\">\n            <input \n              v-model=\"searchQuery\"\n              placeholder=\"Enter search term (e.g., casa, hola)\"\n              class=\"flex-1 px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500\"\n            >\n            <select v-model=\"searchLanguage\" class=\"px-3 py-2 border rounded\">\n              <option value=\"spanish\">Espa√±ol</option>\n              <option value=\"ndowe\">Ndowe</option>\n            </select>\n            <button \n              @click=\"testSearch\" \n              :disabled=\"searchLoading || !searchQuery\"\n              class=\"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 disabled:opacity-50\"\n            >\n              {{ searchLoading ? 'Searching...' : 'Search' }}\n            </button>\n          </div>\n          \n          <div v-if=\"searchResults\" class=\"mt-4\">\n            <p class=\"font-semibold\">Search Results: {{ searchResults.length }} found</p>\n            <div v-if=\"searchResults.length > 0\" class=\"mt-2 space-y-2 max-h-64 overflow-y-auto\">\n              <div \n                v-for=\"result in searchResults.slice(0, 5)\" \n                :key=\"result.entry.id\"\n                class=\"p-2 bg-gray-50 rounded text-sm\"\n              >\n                <strong>{{ result.entry.espa√±ol }}</strong> ‚Üí \n                <span class=\"text-blue-600\">{{ result.entry.ndowe?.join(', ') || 'No translation' }}</span>\n                <div v-if=\"result.score\" class=\"text-xs text-gray-500\">Score: {{ result.score?.toFixed(3) }}</div>\n              </div>\n            </div>\n          </div>\n          \n          <div v-if=\"searchError\" class=\"text-red-600\">\n            Error: {{ searchError }}\n          </div>\n        </div>\n      </section>\n\n      <!-- Dictionary Composable Test Section -->\n      <section class=\"mb-8 p-4 border rounded-lg\">\n        <h2 class=\"text-xl font-semibold mb-4\">üéØ Dictionary Composable Test</h2>\n        <div class=\"space-y-2\">\n          <button \n            @click=\"testComposable\" \n            :disabled=\"composableLoading\"\n            class=\"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 disabled:opacity-50\"\n          >\n            {{ composableLoading ? 'Testing...' : 'Test useDictionary Composable' }}\n          </button>\n          <div v-if=\"composableResult\" class=\"mt-2\">\n            <p class=\"font-semibold\">Composable Status: \n              <span :class=\"composableResult.success ? 'text-green-600' : 'text-red-600'\">\n                {{ composableResult.success ? '‚úÖ Success' : '‚ùå Failed' }}\n              </span>\n            </p>\n            <p v-if=\"composableResult.isReady\">Ready: {{ composableResult.isReady }}</p>\n            <p v-if=\"composableResult.entriesCount\">Total Entries: {{ composableResult.entriesCount }}</p>\n            <p v-if=\"composableResult.currentLanguage\">Current Language: {{ composableResult.currentLanguage }}</p>\n            <p v-if=\"composableResult.error\" class=\"text-red-600\">Error: {{ composableResult.error }}</p>\n          </div>\n        </div>\n      </section>\n\n      <!-- Performance Test Section -->\n      <section class=\"mb-8 p-4 border rounded-lg\">\n        <h2 class=\"text-xl font-semibold mb-4\">‚ö° Performance Test</h2>\n        <div v-if=\"performanceResults\" class=\"space-y-2 text-sm\">\n          <p><strong>API Response Time:</strong> {{ performanceResults.apiTime }}ms</p>\n          <p><strong>IndexedDB Init Time:</strong> {{ performanceResults.indexedDBTime }}ms</p>\n          <p><strong>Search Time:</strong> {{ performanceResults.searchTime }}ms</p>\n        </div>\n      </section>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport type { DictionaryApiResponse, DictionaryEntry, SearchResult, SearchQuery } from '~/types/dictionary'\n\n// Test state\nconst apiLoading = ref(false)\nconst apiResult = ref<any>(null)\n\nconst indexedDBLoading = ref(false)  \nconst indexedDBResult = ref<any>(null)\n\nconst searchQuery = ref('casa')\nconst searchLanguage = ref<'spanish' | 'ndowe'>('spanish')\nconst searchLoading = ref(false)\nconst searchResults = ref<SearchResult[]>([])\nconst searchError = ref('')\n\nconst composableLoading = ref(false)\nconst composableResult = ref<any>(null)\n\nconst performanceResults = ref<any>(null)\n\n// Test API endpoint\nasync function testApi() {\n  apiLoading.value = true\n  const startTime = performance.now()\n  \n  try {\n    const response = await $fetch<DictionaryApiResponse>('/api/dictionary')\n    const endTime = performance.now()\n    \n    apiResult.value = response\n    \n    if (!performanceResults.value) performanceResults.value = {}\n    performanceResults.value.apiTime = Math.round(endTime - startTime)\n    \n  } catch (error) {\n    apiResult.value = {\n      success: false,\n      error: error instanceof Error ? error.message : 'Unknown error'\n    }\n  } finally {\n    apiLoading.value = false\n  }\n}\n\n// Test IndexedDB service\nasync function testIndexedDB() {\n  indexedDBLoading.value = true\n  const startTime = performance.now()\n  \n  try {\n    // Import the IndexedDB service\n    const { indexedDBService } = await import('~/services/indexedDB')\n    \n    // Test initialization\n    await indexedDBService.init()\n    \n    // Test cache status\n    const cacheStatus = await indexedDBService.checkCacheStatus()\n    const entriesCount = await indexedDBService.getEntriesCount()\n    \n    const endTime = performance.now()\n    \n    indexedDBResult.value = {\n      success: true,\n      entriesCount,\n      cacheValid: cacheStatus.isValid,\n      lastUpdate: cacheStatus.lastUpdate\n    }\n    \n    if (!performanceResults.value) performanceResults.value = {}\n    performanceResults.value.indexedDBTime = Math.round(endTime - startTime)\n    \n  } catch (error) {\n    indexedDBResult.value = {\n      success: false,\n      error: error instanceof Error ? error.message : 'Unknown error'\n    }\n  } finally {\n    indexedDBLoading.value = false\n  }\n}\n\n// Test search service\nasync function testSearch() {\n  searchLoading.value = true\n  searchError.value = ''\n  const startTime = performance.now()\n  \n  try {\n    // Import the search service\n    const { searchService } = await import('~/services/search')\n    \n    // Perform search\n    const results = await searchService.search({\n      query: searchQuery.value,\n      language: searchLanguage.value,\n      limit: 10\n    })\n    \n    const endTime = performance.now()\n    \n    searchResults.value = results\n    \n    if (!performanceResults.value) performanceResults.value = {}\n    performanceResults.value.searchTime = Math.round(endTime - startTime)\n    \n  } catch (error) {\n    searchError.value = error instanceof Error ? error.message : 'Unknown error'\n    searchResults.value = []\n  } finally {\n    searchLoading.value = false\n  }\n}\n\n// Test dictionary composable\nasync function testComposable() {\n  composableLoading.value = true\n  \n  try {\n    // Import and use the dictionary composable\n    const { useDictionary } = await import('~/composables/useDictionary')\n    const { isReady, search, currentLanguage, toggleLanguage, init } = useDictionary()\n    \n    // Test initialization\n    await init()\n    \n    // Test search functionality\n    const testResults = await search('casa')\n    \n    composableResult.value = {\n      success: true,\n      isReady: isReady.value,\n      entriesCount: testResults.length,\n      currentLanguage: currentLanguage.value,\n      searchResults: testResults.slice(0, 3) // Show first 3 results\n    }\n    \n  } catch (error) {\n    composableResult.value = {\n      success: false,\n      error: error instanceof Error ? error.message : 'Unknown error'\n    }\n  } finally {\n    composableLoading.value = false\n  }\n}\n\n// Auto-run some tests on mount\nonMounted(() => {\n  testApi()\n  testIndexedDB()\n})\n</script>\n\n<style scoped>\n.test-page {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n}\n</style> "],"names":["_ssrRenderAttrs","_mergeProps","_push","_parent","_unref","_ssrRenderClass","_ssrInterpolate","_ssrIncludeBooleanAttr","_a"],"mappings":"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"}